#-------FOR DEBUG----------
#filebeat.inputs:
#  - type: stdin

filebeat.inputs:
  - type: log
    enabled: true
    paths:
      - /logs/*/*.log
    multiline.type: pattern
    multiline.pattern: '^[[:space:]]+(at|\.{3})[[:space:]]+\b|^Caused by:'
    multiline.negate: false
    multiline.match: after
    fields: { service_name: '${SERVICE_NAME}', log_type: '${LOG_TYPE}' }

filebeat.config:
  modules:
    path: ${path.config}/modules.d/*.yml
    reload.enabled: false

processors:
  - add_cloud_metadata: ~
  - add_docker_metadata: ~

output.logstash:
  hosts: '${LOGSTASH:logstash\:5044}'

#-------FOR DEBUG----------
#output.console:
#  pretty: true
